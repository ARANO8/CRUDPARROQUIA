{% extends 'base.html' %}

{% block title %}Detalle de Factura{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Detalle de Factura</h2>

    <form class="form-inline" method="get" action="/detalle_facturaproce">
        <div class="form-group mb-2">
            <label for="num_fac" class="sr-only">Número de Factura:</label>
            <input type="text" class="form-control" id="num_fac" name="num_fac" placeholder="Ingrese Número de Factura" value="{{ num_fac }}">
        </div>
        <button type="submit" class="btn btn-primary mb-2">Consultar</button>
    </form>

    {% if detalle_factura %}
    <div class="table-responsive mt-4">
        <table class="table table-striped">
            <thead class="table-dark">
                <tr>
                    <th>Número de Factura</th>
                    <th>Producto</th>
                    <th>Cantidad</th>
                    <th>Precio Unitario</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                {% for row in detalle_factura %}
                    <tr>
                        <td>{{ row.NUM_FAC }}</td>
                        <td>{{ row.Producto }}</td>
                        <td>{{ row.Cantidad }}</td>
                        <td>{{ row.PrecioUnitario }}</td>
                        <td>{{ row.Subtotal }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
        <div class="alert alert-warning mt-4">
            No se encontraron detalles para la factura <strong>{{ num_fac }}</strong>.
        </div>
    {% endif %}
</div>
{% endblock %}
